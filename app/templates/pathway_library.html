{% extends "base.html" %} {% block title %}Pathway Library{% endblock %} {%
block content %}
<div id="pathway-library-container">
  <h1>Pathway Library</h1>

  <div class="filters-container">
    <div class="form-group">
      <label for="path">Path:</label>
      <select id="path" name="path">
        {% for pathway in pathways %}
        <option value="{{ pathway.abbr }}">{{ pathway.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="level">Level:</label>
      <select id="level" name="level">
        <option value="">All Levels</option>
        {% for i in range(1, 6) %}
        <option value="{{ i }}">Level {{ i }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="project">Project:</label>
      <select id="project" name="project">
        <option value="">-- Select a Project --</option>
      </select>
    </div>
  </div>

  <div
    id="project-details"
    class="project-details-container"
    style="display: none"
  >
    <div class="project-header">
      <h2 id="project-name"></h2>
      <div class="button-group">
        <a
          id="download-project-btn"
          class="icon-btn"
          title="Download Evaluation"
          style="display: none"
          target="_blank"
        >
          <i class="fas fa-download"></i>
        </a>
        {% if is_authorized('PATHWAY_LIB_EDIT') %}
        <button
          id="cancel-project-btn"
          class="icon-btn"
          style="display: none"
          title="Cancel"
        >
          <i class="fas fa-times"></i>
        </button>
        <button id="edit-project-btn" class="icon-btn" title="Edit">
          <i class="fas fa-edit"></i>
        </button>
        {% endif %}
      </div>
    </div>
    <div class="path-codes">
      <div class="path-code-box path-dl" id="dl-code" data-path="DL">
        DL: <span></span>
      </div>
      <div class="path-code-box path-eh" id="eh-code" data-path="EH">
        EH: <span></span>
      </div>
      <div class="path-code-box path-ms" id="ms-code" data-path="MS">
        MS: <span></span>
      </div>
      <div class="path-code-box path-pi" id="pi-code" data-path="PI">
        PI: <span></span>
      </div>
      <div class="path-code-box path-pm" id="pm-code" data-path="PM">
        PM: <span></span>
      </div>
      <div class="path-code-box path-vc" id="vc-code" data-path="VC">
        VC: <span></span>
      </div>
      <div class="path-code-box path-dtm" id="dtm-code" data-path="DTM">
        DTM: <span></span>
      </div>
    </div>
    <br />
    <div class="project-section">
      <h3>Purpose</h3>
      <p id="project-purpose"></p>
      <textarea
        id="edit-purpose"
        class="edit-textarea"
        rows="3"
        style="display: none; width: 100%"
      ></textarea>
    </div>
    <div class="project-section">
      <h3>Introduction</h3>
      <p id="project-introduction"></p>
      <textarea
        id="edit-introduction"
        class="edit-textarea"
        rows="3"
        style="display: none; width: 100%"
      ></textarea>
    </div>
    <div class="project-section">
      <h3>Overview</h3>
      <p id="project-overview"></p>
      <textarea
        id="edit-overview"
        class="edit-textarea"
        rows="3"
        style="display: none; width: 100%"
      ></textarea>
    </div>
    <div class="project-section">
      <h3>Requirements</h3>
      <p id="project-requirements"></p>
      <textarea
        id="edit-requirements"
        class="edit-textarea"
        rows="3"
        style="display: none; width: 100%"
      ></textarea>
    </div>
    <div class="project-section">
      <h3>Resources</h3>
      <p id="project-resources"></p>
      <textarea
        id="edit-resources"
        class="edit-textarea"
        rows="3"
        style="display: none; width: 100%"
      ></textarea>
    </div>
  </div>
</div>
<script>
  const pathways = {{ pathways|tojson }};
</script>
<script src="{{ url_for('static', filename='js/pathway_library.js') }}"></script>
{% endblock %}
